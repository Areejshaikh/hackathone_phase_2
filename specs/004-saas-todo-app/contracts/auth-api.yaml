# API Contract: Authentication Service

## Overview
This document specifies the API contract for the authentication service in the Todo Pro application.

## Base URL
```
https://api.todopro.com/v1
```

## Authentication
Most endpoints require a valid JWT token to be included in the request header:
```
Authorization: Bearer <jwt_token>
```

## Endpoints

### POST /auth/register
Register a new user account.

#### Request
```json
{
  "email": "user@example.com",
  "password": "securePassword123",
  "first_name": "John",
  "last_name": "Doe"
}
```

#### Response 201 Created
```json
{
  "success": true,
  "message": "User registered successfully",
  "data": {
    "id": "uuid-string",
    "email": "user@example.com",
    "first_name": "John",
    "last_name": "Doe",
    "created_at": "2023-01-01T00:00:00Z"
  }
}
```

#### Response 400 Bad Request
```json
{
  "success": false,
  "message": "Invalid input data",
  "errors": [
    {
      "field": "email",
      "message": "Email is already in use"
    }
  ]
}
```

### POST /auth/login
Authenticate a user and return a JWT token.

#### Request
```json
{
  "email": "user@example.com",
  "password": "securePassword123"
}
```

#### Response 200 OK
```json
{
  "success": true,
  "message": "Login successful",
  "data": {
    "user": {
      "id": "uuid-string",
      "email": "user@example.com",
      "first_name": "John",
      "last_name": "Doe"
    },
    "access_token": "jwt-token-string",
    "refresh_token": "refresh-token-string",
    "expires_in": 3600
  }
}
```

#### Response 401 Unauthorized
```json
{
  "success": false,
  "message": "Invalid credentials"
}
```

### POST /auth/logout
Logout the current user and invalidate the session.

#### Headers
```
Authorization: Bearer <jwt_token>
```

#### Response 200 OK
```json
{
  "success": true,
  "message": "Logged out successfully"
}
```

### GET /auth/me
Get information about the currently authenticated user.

#### Headers
```
Authorization: Bearer <jwt_token>
```

#### Response 200 OK
```json
{
  "success": true,
  "data": {
    "id": "uuid-string",
    "email": "user@example.com",
    "first_name": "John",
    "last_name": "Doe",
    "created_at": "2023-01-01T00:00:00Z",
    "updated_at": "2023-01-01T00:00:00Z"
  }
}
```

### PUT /auth/profile
Update the current user's profile information.

#### Headers
```
Authorization: Bearer <jwt_token>
```

#### Request
```json
{
  "first_name": "Jane",
  "last_name": "Smith"
}
```

#### Response 200 OK
```json
{
  "success": true,
  "message": "Profile updated successfully",
  "data": {
    "id": "uuid-string",
    "email": "user@example.com",
    "first_name": "Jane",
    "last_name": "Smith",
    "updated_at": "2023-01-01T00:00:00Z"
  }
}
```